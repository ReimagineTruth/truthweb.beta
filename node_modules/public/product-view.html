<!-- Inside <script> at the bottom of product-view.html -->
<script>
  // Existing code...

  // Fetch product details based on productId
  const urlParams = new URLSearchParams(window.location.search);
  const productId = urlParams.get('productId');
  if (productId) {
    fetch(`/api/products/${productId}`)
      .then(response => response.json())
      .then(product => {
        if (product.error) throw new Error(product.error);
        document.querySelector('.glow-text').textContent = product.title;
        document.querySelector('.hero p:nth-child(2)').textContent = product.description;
        document.querySelector('.card img').src = product.image;
        document.querySelector('.card:nth-child(2) p').textContent = product.description;
        document.querySelector('.card:nth-child(3) p:last-of-type').textContent = `Price: ${product.price} Pi`;
        document.querySelector('.btn.w-full').href = `/addtocart.html?productId=${product.id}`;
      })
      .catch(error => {
        console.error('Error fetching product:', error);
        document.querySelector('.hero').innerHTML = '<p>Product not found</p>';
      });
  }
</script>
